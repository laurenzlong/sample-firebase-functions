import * as firebase from 'firebase-admin';
import { CloudFunction, Change, EventContext } from '../cloud-functions';
export declare type DocumentSnapshot = firebase.firestore.DocumentSnapshot;
export declare function document(path: string): DocumentBuilder;
export declare class DatabaseBuilder {
    private database;
    namespace(namespace: string): NamespaceBuilder;
    document(path: string): DocumentBuilder;
}
export declare class NamespaceBuilder {
    private database;
    private namespace;
    document(path: string): DocumentBuilder;
}
export declare class DocumentBuilder {
    private triggerResource;
    /** Respond to all document writes (creates, updates, or deletes). */
    onWrite(handler: (change: Change<DocumentSnapshot>, context?: EventContext) => PromiseLike<any> | any): CloudFunction<Change<DocumentSnapshot>>;
    /** Respond only to document updates. */
    onUpdate(handler: (change: Change<DocumentSnapshot>, context?: EventContext) => PromiseLike<any> | any): CloudFunction<Change<DocumentSnapshot>>;
    /** Respond only to document creations. */
    onCreate(handler: (snapshot: DocumentSnapshot, context?: EventContext) => PromiseLike<any> | any): CloudFunction<DocumentSnapshot>;
    /** Respond only to document deletions. */
    onDelete(handler: (snapshot: DocumentSnapshot, context?: EventContext) => PromiseLike<any> | any): CloudFunction<DocumentSnapshot>;
    private onOperation<T>(handler, eventType, dataConstructor);
}
/** Optional parameters for creating a DocumentSnapshot. */
export interface DocumentSnapshotOptions {
    /** ISO string of the time the snapshot was read, default is current time.  */
    readTime?: string;
    /** ISO string of the time the snapshot was created, default is current time.  */
    createTime?: string;
    /** ISO string of the time the snapshot was last updated, default is current time.  */
    updateTime?: string;
    /** The Firebase app that the Firestore database belongs to.
     * You do not need to supply this parameter if you are using firebase-functions-test and
     * supplied Firebase config values when initializing it.
     */
    app?: firebase.app.App;
}
/** Create a DocumentSnapshot for unit testing. */
export declare function makeDocumentSnapshot(
    /** Key-value pairs representing data in the document, pass in {} to mock the snapshot of
     * a document that doesn't exist. */
    data: {
    [key: string]: any;
}, 
    /** Full path of the reference (e.g. 'users/alovelace') */
    refPath: string, options?: DocumentSnapshotOptions): any;
